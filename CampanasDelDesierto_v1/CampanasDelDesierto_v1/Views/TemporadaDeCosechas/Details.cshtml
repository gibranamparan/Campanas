@model CampanasDelDesierto_v1.Models.TemporadaDeCosecha

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<p>
    @Html.ActionLink("Back to List", "Index")
</p>
<a href="@Url.Action("Index")">
    <i class="glyphicon glyphicon-arrow-left"></i> Historial de Temporadas
</a>
<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title"><strong>Temporada: </strong>@Model.rangoTiempo</h3>
    </div>
    <div class="panel-body">
        <div class="form-inline">
            <div class="form-group col-md-3">
                <label>@Model.tipoProducto1: </label>
                @Html.DisplayFor(model => model.precioProducto1)
            </div>
            <div class="form-group col-md-3">
                <label>@Model.tipoProducto2: </label>
                @Html.DisplayFor(model => model.precioProducto2)
            </div>
            <div class="form-group col-md-3">
                <label>@Model.tipoProducto3: </label>
                @Html.DisplayFor(model => model.precioProducto3)
            </div>
            <div class="form-group col-md-3">
                <label>@Model.tipoProductoOtro: </label>
                @Html.DisplayFor(model => model.precioProductoOtro)
            </div>
        </div>
        <a href="@Url.Action("Edit", new { id = Model.TemporadaDeCosechaID })">
            <i class="fa fa-pencil"></i> Editar
        </a> 
    </div>
</div>
<div class="alert alert-info">
    Sube al servidor el archivo Excel de "Acumulados de recepción de Aceituna" correspondiente a esta temporada.
</div>
@using (Html.BeginForm(null, null, FormMethod.Post,
                new { enctype = "multipart/form-data", @class = "form-inline" }))
{
    @Html.ValidationSummary()
    <div class="col-md-12">
        <label for="xlsFile">Archivo Excel</label>
        <input id="xlsFile" name="xlsFile" type="file" class="form-control"
               accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>
    </div>
    <button class="btn btn-success">
        <i class="fa fa-upload"></i> Subir
    </button>
}
@*Panel que muestra la recepcion ingresada en el excel*@
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">Ingreso de producto (Importado de Excel)</h3>
    </div>
    <div class="panel-body">
        <table class="table table-hover table-striped datatablejs">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().numeroRecibo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().numProductor)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().nombreProductor)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().cantidadTonsProd1)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().cantidadTonsProd2)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.recepcionesDeProducto.FirstOrDefault().cantidadTonsProd3)
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var recepcion in Model.recepcionesDeProducto)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(model=>recepcion.numeroRecibo)
                        </td>

                        <td>
                            @Html.DisplayFor(model => recepcion.numProductor)
                        </td>
                        <td>
                            @Html.DisplayFor(model => recepcion.nombreProductor)
                        </td>
                        <td>
                            @Html.DisplayFor(model => recepcion.cantidadTonsProd1)
                        </td>
                        <td>
                            @Html.DisplayFor(model => recepcion.cantidadTonsProd2)
                        </td>
                        <td>
                            @Html.DisplayFor(model => recepcion.cantidadTonsProd3)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>